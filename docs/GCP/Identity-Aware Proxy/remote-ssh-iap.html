<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-GCP/Identity-Aware Proxy/remote-ssh-iap">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Remote SSH an IAP-secured server using a terminal or VSCode | Fabien Bloume</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://nusantara-self.github.io/docs/GCP/Identity-Aware Proxy/remote-ssh-iap"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="keywords" content="tech, cybersecurity, cloud, travel, fabien bloume, gcp, thehive, shuffle"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Remote SSH an IAP-secured server using a terminal or VSCode | Fabien Bloume"><meta data-rh="true" name="description" content="Getting started"><meta data-rh="true" property="og:description" content="Getting started"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://nusantara-self.github.io/docs/GCP/Identity-Aware Proxy/remote-ssh-iap"><link data-rh="true" rel="alternate" href="https://nusantara-self.github.io/docs/GCP/Identity-Aware Proxy/remote-ssh-iap" hreflang="en"><link data-rh="true" rel="alternate" href="https://nusantara-self.github.io/docs/GCP/Identity-Aware Proxy/remote-ssh-iap" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Fabien Bloume RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Fabien Bloume Atom Feed"><link rel="stylesheet" href="/assets/css/styles.82f5a1d7.css">
<link rel="preload" href="/assets/js/runtime~main.4b154459.js" as="script">
<link rel="preload" href="/assets/js/main.16a68e60.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><b class="navbar__title text--truncate">About me</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/welcome">Documentation</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/blog/tags">Search</a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/welcome">Welcome</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Engineering/ConfigurationManagement">Engineering</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/GCP/Identity-Aware Proxy/port-forwarding">GCP</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/docs/GCP/Identity-Aware Proxy/port-forwarding">Identity-Aware Proxy</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/GCP/Identity-Aware Proxy/port-forwarding">Port-forwarding to localhost</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/GCP/Identity-Aware Proxy/remote-ssh-iap">Remote SSH an IAP-secured server using a terminal or VSCode</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/GCP/Terraform/init">Terraform</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Security Operations/secops-resources">Security Operations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Shuffle/Administration">Shuffle</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Remote SSH an IAP-secured server using a terminal or VSCode</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="getting-started">Getting started<a href="#getting-started" class="hash-link" aria-label="Direct link to Getting started" title="Direct link to Getting started">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="install-the-gcloud-cli">Install the gcloud CLI<a href="#install-the-gcloud-cli" class="hash-link" aria-label="Direct link to Install the gcloud CLI" title="Direct link to Install the gcloud CLI">​</a></h3><p><a href="https://cloud.google.com/sdk/docs/install#linux" target="_blank" rel="noopener noreferrer">Official documentation</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="gcloud-auth">Authentication with the CLI<a href="#gcloud-auth" class="hash-link" aria-label="Direct link to Authentication with the CLI" title="Direct link to Authentication with the CLI">​</a></h3><p>Before each session you may launch, make sure to be <strong>authenticated with your gcloud account</strong> within the CLI</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Standard</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">WSL</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">gcloud auth login</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">gcloud auth login --no-launch-browser</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="using-a-standard-terminal">Using a standard terminal<a href="#using-a-standard-terminal" class="hash-link" aria-label="Direct link to Using a standard terminal" title="Direct link to Using a standard terminal">​</a></h2><p>Very straightforward, make sure to be authenticated and run the following command :</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">gcloud compute ssh my-instance --tunnel-through-iap </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="using-vscode-remote-explorer">Using VSCode Remote Explorer<a href="#using-vscode-remote-explorer" class="hash-link" aria-label="Direct link to Using VSCode Remote Explorer" title="Direct link to Using VSCode Remote Explorer">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cli-authentication">CLI Authentication<a href="#cli-authentication" class="hash-link" aria-label="Direct link to CLI Authentication" title="Direct link to CLI Authentication">​</a></h3><p>As usual, make sure to be authenticated : <a href="#gcloud-auth">gcloud authentication</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ssh-tunnel-dry-run">SSH tunnel dry run<a href="#ssh-tunnel-dry-run" class="hash-link" aria-label="Direct link to SSH tunnel dry run" title="Direct link to SSH tunnel dry run">​</a></h3><p>Then, make sure to <strong>dry run ssh tunnel</strong> to your instance : </p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">gcloud compute ssh my-instance --tunnel-through-iap --dry-run</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You should get a response similar to that one : </p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/usr/bin/ssh -t -i /Users/YOURNAME/.ssh/google_compute_engine </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-o CheckHostIP=no </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-o HashKnownHosts=no -o HostKeyAlias=compute.XXXX -o IdentitiesOnly=yes </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-o StrictHostKeyChecking=yes </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-o UserKnownHostsFile=/Users/YOURNAME/.ssh/google_compute_known_hosts </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-o ProxyCommand=&quot;/Library/Frameworks/Python.framework/Versions/3.9/bin/python3 -S /Applications/google-cloud-sdk/lib/gcloud.py compute start-iap-tunnel my-instance %p --listen-on-stdin --project=my-project --zone=my-zone --verbosity=warning&quot; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-o ProxyUseFdpass=no YOURNAME@compute.XXXX</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Now, what we are going to do is to <strong>copy the ProxyCommand</strong> out of it, which contains the info we need :
<code>/Library/Frameworks/Python [....] -verbosity=warning</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="updating-your-sshconfig">Updating your ~/.ssh/config<a href="#updating-your-sshconfig" class="hash-link" aria-label="Direct link to Updating your ~/.ssh/config" title="Direct link to Updating your ~/.ssh/config">​</a></h3><p>Now, using VScode, let&#x27;s have a look at our ssh config file : </p><blockquote><p><strong>CMD + shift + P</strong></p></blockquote><blockquote><p><strong>Remote-SSH : Open SSH configuration file</strong></p></blockquote><p>Into this file, add the following content and make sure to <strong>replace the full ProxyCommand</strong> by the way copied ealier :</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Host my-instance-name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  HostName my-instance-name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  IdentityFile /Users/YOURNAME/.ssh/google_compute_engine</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  CheckHostIP no</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  HashKnownHosts no</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  HostKeyAlias my-instance-name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  IdentitiesOnly yes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  StrictHostKeyChecking yes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  UserKnownHostsFile /Users/YOURNAME/.ssh/google_compute_known_hosts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ProxyCommand /Library/Frameworks/Python [....] -verbosity=warning</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ProxyUseFdpass no</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p><em>Host, HostName &amp; HostKeyAlias</em> can all be replaced by whatever value you wish.
Do not forget <em>setting the right UserKnownHostsFile</em> directory as well as pasting the <em>full ProxyCommand content</em></p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="connect-to-host-on-vscode">Connect to Host on VSCode<a href="#connect-to-host-on-vscode" class="hash-link" aria-label="Direct link to Connect to Host on VSCode" title="Direct link to Connect to Host on VSCode">​</a></h3><p>Now, you should be able to remote SSH your IAP-secured instance directly on VScode.</p><blockquote><p><strong>CMD + shift + P</strong></p></blockquote><blockquote><p><strong>Remote-SSH : Connect to Host</strong></p></blockquote><blockquote><p>Pick your new entry <strong>&#x27;my-instance-name&#x27;</strong>, which should appear</p></blockquote><p>You can now use File Explorer tab to go to whatever folder you wish and edit files directly in VSCode. Saving you ton of time if you are not an avid vim programmer.</p><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_S0QG"><p>There might be a few additional steps on a <strong>Windows</strong> environment where you use <strong><em>Windows Subsystem for Linux</em></strong>. By default, VSCode does not use the WSL&#x27;s ssh, which is a problem. See <a href="#troubleshoot">Troubleshoot</a> below.</p></div></div><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="troubleshoot">Troubleshoot<a href="#troubleshoot" class="hash-link" aria-label="Direct link to Troubleshoot" title="Direct link to Troubleshoot">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ssh-issues-with-wsl--vscode-on-windows">SSH issues with WSL &amp; VScode on Windows<a href="#ssh-issues-with-wsl--vscode-on-windows" class="hash-link" aria-label="Direct link to SSH issues with WSL &amp; VScode on Windows" title="Direct link to SSH issues with WSL &amp; VScode on Windows">​</a></h3><p>Coming later</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2023-07-15T22:56:31.000Z">Jul 15, 2023</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/GCP/Identity-Aware Proxy/port-forwarding"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Port-forwarding to localhost</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/GCP/Terraform/init"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Hi!</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#getting-started" class="table-of-contents__link toc-highlight">Getting started</a><ul><li><a href="#install-the-gcloud-cli" class="table-of-contents__link toc-highlight">Install the gcloud CLI</a></li><li><a href="#gcloud-auth" class="table-of-contents__link toc-highlight">Authentication with the CLI</a></li></ul></li><li><a href="#using-a-standard-terminal" class="table-of-contents__link toc-highlight">Using a standard terminal</a></li><li><a href="#using-vscode-remote-explorer" class="table-of-contents__link toc-highlight">Using VSCode Remote Explorer</a><ul><li><a href="#cli-authentication" class="table-of-contents__link toc-highlight">CLI Authentication</a></li><li><a href="#ssh-tunnel-dry-run" class="table-of-contents__link toc-highlight">SSH tunnel dry run</a></li><li><a href="#updating-your-sshconfig" class="table-of-contents__link toc-highlight">Updating your ~/.ssh/config</a></li><li><a href="#connect-to-host-on-vscode" class="table-of-contents__link toc-highlight">Connect to Host on VSCode</a></li></ul></li><li><a href="#troubleshoot" class="table-of-contents__link toc-highlight">Troubleshoot</a><ul><li><a href="#ssh-issues-with-wsl--vscode-on-windows" class="table-of-contents__link toc-highlight">SSH issues with WSL &amp; VScode on Windows</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title"> </div><ul class="footer__items clean-list"></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright"><span style="font-size: 12px;">Copyright © 2023 nusantara-self. Built with Docusaurus.</span></div></div></div></footer></div>
<script src="/assets/js/runtime~main.4b154459.js"></script>
<script src="/assets/js/main.16a68e60.js"></script>
</body>
</html>